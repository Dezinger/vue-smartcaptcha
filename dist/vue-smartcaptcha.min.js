!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).VueSmartcaptcha=e()}(this,(function(){"use strict";function t(){return(t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}var e=function(){var t=!1,e=[];return{resolved:function(){return t},resolve:function(n){if(!t){t=!0;for(var a=0,i=e.length;a<i;a++)e[a](n)}},promise:{then:function(n){t?n():e.push(n)}}}},n=Object.prototype.hasOwnProperty;var a,i=(a=e(),{notify:function(){a.resolve()},wait:function(){return a.promise},render:function(t,e,n){this.wait().then((function(){n(window.smartCaptcha.render(t,e))}))},reset:function(t){void 0!==t&&(this.assertLoaded(),this.wait().then((function(){return window.smartCaptcha.reset(t)})))},execute:function(t){void 0!==t&&(this.assertLoaded(),this.wait().then((function(){return window.smartCaptcha.execute(t)})))},getResponse:function(t){void 0!==t&&(this.assertLoaded(),this.wait().then((function(){return window.smartCaptcha.getResponse(t)})))},destroy:function(t){void 0!==t&&(this.assertLoaded(),this.wait().then((function(){return window.smartCaptcha.destroy(t)})))},checkSmartcaptchaLoad:function(){n.call(window,"smartCaptcha")&&n.call(window.smartCaptcha,"render")&&this.notify()},assertLoaded:function(){if(!a.resolved())throw new Error("SmartCAPTCHA has not been loaded")}});return"undefined"!=typeof window&&(window.vueSmartcaptchaApiLoaded=i.notify),{name:"VueSmartcaptcha",props:{sitekey:{type:String,required:!0},hl:{type:String,default:""},test:{type:Boolean,default:!1},webview:{type:Boolean,default:!1},invisible:{type:Boolean,default:!1},shieldPosition:{type:String},hideShield:{type:Boolean},loadSmartcaptchaScript:{type:Boolean,default:!1},smartcaptchaScriptId:{type:String,default:"__SMARTCAPTCHA_SCRIPT"},smartcaptchaHost:{type:String,default:"smartcaptcha.yandexcloud.net"}},beforeMount:function(){if(this.loadSmartcaptchaScript&&!document.getElementById(this.smartcaptchaScriptId)){var t=document.createElement("script");t.id=this.smartcaptchaScriptId,t.src="https://"+this.smartcaptchaHost+"/captcha.js?render=onload&onload=vueSmartcaptchaApiLoaded",t.async=!0,t.defer=!0,document.head.appendChild(t)}},mounted:function(){var e=this;i.checkSmartcaptchaLoad();var n=t({},this.$props,{callback:this.emitVerify}),a=this.$slots.default?this.$el.children[0]:this.$el;i.render(a,n,(function(t){e.$widgetId=t,e.$emit("render",t)}))},methods:{reset:function(){i.reset(this.$widgetId)},execute:function(){i.execute(this.$widgetId)},emitVerify:function(t){this.$emit("verify",t)}},render:function(t){return t("div",{},this.$slots.default)}}}));
